{
    "dag_id": "store_traffic_rn_camera_and_trips_daily",
    "dag_schedule": "5 11 * * *",
    "dag_sla_minutes": "180",
    "prod_email_on_failure": "dsa-app08150-fls-store-traffic@nordstrom.pagerduty.com, yanmeng.song@nordstrom.com, Matthew.Bond@nordstrom.com",
    "nonprod_email_on_failure": "yanmeng.song@nordstrom.com, Matthew.Bond@nordstrom.com",
    "dependencies": {
        "downstream": {
            "dags": [
                "store_traffic_daily_11521_ACE_ENG"
            ]
        }
    },
    "stage_dependencies": {
        "upstream_dep_stage": "run_teradata_sql"
    },
    "stages": [
        "upstream_dep_stage",
        "run_teradata_sql"
    ],
    "sql_env_vars": {
        "start_date": "current_date()-15",
        "end_date": "current_date()-1"
    },
    "upstream_dep_stage": {
        "check_retailnext_camera_data": {
            "branch_engine": {
                "python_code": "retailnext_camera_upstream_check.py",
                "callable_function_name": "callable_func_name",
                "provide_context": "True",
                "callable_return_vars": {
                    "task1": "run_teradata_sql",
                    "task2": "run_teradata_sql"
                }
            }
        }
    },
    "run_teradata_sql": {
        "job_0_refresh_t2_table": {
            "teradata_engine": {
                "input_details": [
                    {
                        "conn_name": "TERADATA_SOURCE_TRF",
                        "scripts": [
                            "store_traffic_model/fls_store_traffic/rn_camera_and_trips_daily.sql"
                        ]
                    }
                ]
            }
        }
    }
}