{
    "dag_id": "twist_weekly",
    "dag_schedule": "0 20 * * SUN,TUE",
    "prod_email_on_failure": "dsa-app08364-twist@nordstrom.pagerduty.com",
    "nonprod_email_on_failure": "rasagnya.avala@nordstrom.com",
    "dependencies": {
        "upstream": {
            "dags": [
                {
                    "external_dag_id": "twist_11521_ACE_ENG",
                    "retries": 3,
                    "poke_interval": 120,
                    "timeout": 3600
                }
            ]
        }
    },
    "stages": [
        "run_twist_weekly"
    ],
    "run_twist_weekly": {
        "job_0_twist_summary_weekly": {
            "teradata_engine": {
                "sensor_timeout_seconds": 6000,
                "input_details": [
                    {
                        "conn_name": "TERADATA_SOURCE_TWT",
                        "scripts": [
                            "twist/twist_summary_weekly.sql"
                        ]
                    }
                ]
            }
        },
        "job_1_refresh_twist_summary": {
            "tableau_engine": {
                "input_details": [
                    {
                        "conn_name": "__TABLEAU_NAP__",
                        "source_type": "workbook",
                        "workbook_name": "Traffic Weighted In-Stock Summary",
                        "project_name": "Traffic Weighted In-Stock"
                    }
                ],
                "output_details": []
            }
        },
        "job_2_twist_item_weekly": {
            "teradata_engine": {
                "sensor_timeout_seconds": 6000,
                "input_details": [
                    {
                        "conn_name": "TERADATA_SOURCE_TWT",
                        "scripts": [
                            "twist/twist_item_weekly.sql"
                        ]
                    }
                ]
            }
        },
        "job_3_refresh_twist_item": {
            "tableau_engine": {
                "input_details": [
                    {
                        "conn_name": "__TABLEAU_NAP__",
                        "source_type": "datasource",
                        "datasource_name": "Traffic Weight In-Stock Item Self Service",
                        "project_name": "Traffic Weighted In-Stock"
                    }
                ],
                "output_details": []
            }
        }
    }
}