{
  "dag_id": "payment_settlement_intent_teradata",
  "dag_schedule": "0 2/4 * * *",
  "stages": [
    "payment_settlement_intent_kafka_to_teradata_stg_stage_0"
  ],
  "payment_settlement_intent_kafka_to_teradata_stg_stage_0": {
    "kafka_to_teradata_stg_job": {
      "spark_engine": {
        "spark_run_mode": "medium",
        "scripts": [
          "sparkSql/payment_settlement_intent_kafka_to_teradata_stg.sql"
        ],
        "input_details": [
          {
            "conn_name": "__KAFKA_NAP_SOURCE_PAYMENTS__",
            "sql_table_reference": "kafka_payment_settlement_intent_analytical_avro",
            "data_source_name": "customer-payment-settlement-intent-analytical-avro"
          }
        ],
        "output_details": [
          {
            "conn_name": "__PAYMENT_TERADATA_NAP_STG__",
            "sql_table_reference": "payment_settlement_intent_stg",
            "data_source_name": "PAYMENT_SETTLEMENT_INTENT_LDG"
          },
          {
            "conn_name": "__PAYMENT_TERADATA_NAP_STG__",
            "sql_table_reference": "bankcard_settlement_result_stg",
            "data_source_name": "BANKCARD_SETTLEMENT_RESULTS_LDG"
          },
          {
            "conn_name": "__PAYMENT_TERADATA_NAP_STG__",
            "sql_table_reference": "giftcard_note_tender_result_stg",
            "data_source_name": "GIFTCARD_NOTE_TENDER_RESULTS_LDG"
          },
          {
            "conn_name": "__PAYMENT_TERADATA_NAP_STG__",
            "sql_table_reference": "paypal_billing_agreement_settlement_result_stg",
            "data_source_name": "PAYPAL_BILLING_AGREEMENT_SETTLEMENT_RESULTS_LDG"
          },
          {
            "conn_name": "__PAYMENT_TERADATA_NAP_STG__",
            "sql_table_reference": "paypal_settlement_result_stg",
            "data_source_name": "PAYPAL_SETTLEMENT_RESULT_LDG"
          }
        ]
      }
    },
    "teradata_stg_to_teradata_fct_job": {
      "teradata_engine": {
        "input_details": [
          {
            "conn_name": "__PAYMENT_TERADATA_NAP_FCT__",
            "scripts": [
              "teradata/payment_settlement_intent_teradata_stg_to_teradata_fct.sql"
            ]
          }
        ]
      }
    }
  }
}